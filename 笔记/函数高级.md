# 函数高级

> **prototype**
> > 1. 函数的`prototype`属性：
> > 每个函数都有一个`prototype`属性，它默认指向一个Object空对象（即为原型对象）
> > 原型对象中有一个属性`constructor`，它指向函数对象
> > 2. 给原型对象添加属性（一般都是方法）
> 作用：函数的所有实例对象自动拥有原型中的属性（方法）
---
> **显式原型与隐式原型**
> > 1. 每个函数function都有一个`prototype`，即显式原型（显式原型属性）
> > 2. 每个实例对象都有一个`_proto_`，可称为隐式原型（隐式原型属性），但实例对象没有显式原型
> > 3. 对象的隐式原型的值为其对应构造函数的显式原型的值
> > 4. 在调用方法时，对象会现在实例对象本身上查找，若没有则会在隐式原型（构造函数的显式原型）上查找
> > 5. 总结：
> >      * 函数的`prototype`属性：在定义函数时自动添加，默认值是一个Object空对象
> >      * 对象的_proto_属性：创建对象时自动添加，默认值为构造函数的`prototype`属性值
> >      * 程序员能直接操作显式原型，但不能操作隐式原型（ES6之前）
---
> **原型链**
> * 访问一个对象的属性时：
>   * 先在自身属性中查找，找到返回
>   * 如果没有，再沿着`_proto_`这条链上向上查找，找到返回
>   * 如果最终没有找到，返回undefined
> * 别名：隐式原型链
>   * 作用：查找对象的属性（方法）
> * 函数的显式原型指向的对象默认是空的Object实例对象（Object实例对象的显式原型为null）
> * 所有函数都是Function的实例（包括function），Function的显式原型是函数Object的实例，所以：
>   `Function.prototype._proto_ == Object.prototype`
---
> 1. 变量提升
> * 通过var定义（声明）的变量，在定义语句之前就可以访问到，值为undefined
> 2. 函数声明提升
> * 通过function声明的函数，在之前就可以直接调用，值为函数定义（对象）
---
> **执行上下文**
> 1. 代码分类（位置）
>       * 全局代码
>       * 函数（局部）代码
> 2. 全局执行上下文
>       * 在执行全局代码前将window确定为全局执行上下文
>       * 对全局数据进行预处理
>           * var定义的全局变量==>undefined，添加为window属性
>           * function声明的全局函数==>赋值（function），添加为window的方法
>       * 开始执行全局代码
> 3. 函数执行上下文
>       * 在调用函数，准备执行函数体之前，创建对应的函数执行上下文对象
>       * 对局部数据进行预处理
>           * 形参变量==>复制（实参）==>添加为执行上下文的属性
>           * arguments==>复制（实参列表），添加为执行上下文的属性
>           * var定义的局部变量==>undefined，添加为执行上下文的属性
>           * function声明的函数==>赋值（function），添加为执行上下文的方法
>           * this==>赋值（调用函数的对象）
>       * 开始执行函数体代码